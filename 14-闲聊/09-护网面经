简述常用中间件iis、apache、nginx、tomcat、shiro、weblogic？
IIS
文件名解析漏洞、PUT任意文件写入、远程代码命令执行、解析漏洞

Apache
未知文件名解析、AddHandler配置文件漏洞、httpd漏洞、目录遍历

Nginx
文件名解析漏洞、目录遍历、CRLF注入、目录穿越（越权）

Tomcat
远程命令执行
war后门文件部署
上传包含jsp木马的war包，并使用冰鞋进行连接
JBoss
反序列化漏洞
war后门文件部署

WebLogic
弱口令：
安装完成后没有修改后台密码，导致弱口令登录获得webshell--7001端口
http://192.168.1.10:7001/console登录页面
上传war包，包含jsp木马，冰鞋连接木马
反序列化漏洞：
在/wls-wsat/CoordinatorPortType（POST）处构造SOAP（XML）格式的请求，在解析的过程中导致XMLDecoder反序列化漏洞
SSRF任意文件上传
war后门文件部署


Shiro的相关漏洞？
Apache Shiro 反序列化漏洞
Shiro rememberMe（Shiro-550）
指纹：
返回包存在set-Cookie：rememberMe=deleteMe或URL中有shiro字样。
有时服务器不会主动返回rememberMe=deleteMe，直接发包即可。
攻击方法：
Shiro的功能用到了AES加密，但是密码是硬编码在代码里的，所以很容易拿到密钥，因为AES是对称加密，即加密密钥同样是解密密钥，所以就可以通过恶意构建Cookie获取权限执行命令。
Shiro Padding Oracle Attack（Shiro-721）
抓包，并构建payload，通过加密撞库找到payload，实施攻击

Fastjson的相关漏洞？
反序列化任意命令执行漏洞：
利用fastjson autotype在处理json对象时，未对@type字段进行安全的安全性验证，攻击者可以传入危险类，并调用危险类连接远程RMI主机，通过其中的恶意类执行代码
远程命令执行漏洞：
fastjson于1.2.24版本后增加了反序列化白名单，而在1.2.48之前的版本中，可以利用特殊构造的json字符串绕过白名单检测，成功执行任意命令。
先前版本没有com.sun.jndi.rmi.object.trustURLCodebase限制，可以使用RMI进行命令执行。

学习Java语言后要求复现漏洞

java中间件---反序列化漏洞

nginx

正向代理与反向代理的区别？
正向代理--客户端没有办法访问外部资源，为了从原始服务器取得内容客户端会向代理服务器发送请求并指定目标，正向代理服务器会将目标信息反馈给客户端
反向代理--客户端无感知代理存在，以代理服务器接受请求并转发给内部服务器，并将客户端得到结果返回给目标
（自己装一个nginx进行理解）

Redis未授权访问？
原理：
redis未设置密码默认为空，任意用户都可以进行访问
危害：
1、利用redis提供的config命令，进行写入文件操做
2、如果redis有root权限，攻击者还可将自己的ssh公钥写入/root/.ssh文件的authotrized_keys,构建后门

菜刀的特征流量分析？
php类主体部分常包含eval函数，并作base64解密，默认参数z0

冰鞋流量特征分析？
冰鞋会对数据进行加密，但和主机连接过程中会发送GET请求，探测主机当前状态，请求内容为16进制密钥，可以通过正则匹配检测请求资源和检测服务端的响应
中间件保护措施

sl盲注的优化知道吗？
二分法，或者load_file用UNC路径发起请求，走smb服务，用dnslog来显示

socks代理能不能去ping？
不能，介于传输层和会话层之间，用tcp传输数据，不支持icmp，不能用ping命令

如何分析被代理出来的数据流？
分析数据包请求头中的 xff、referer 等收集有用的信息

打点一般会用什么漏洞
优先以java反序列化这些漏洞像shiro，fastjson，weblogic，用友oa等等进行打点，随后再找其他脆弱性易打进去的点。
因为javaweb程序运行都是以高权限有限运行，部分可能会降权

问：IIOP听说过吗，和什么类似
java RMI通信，也就是远程方法调用，默认是使用jrmp协议，也可以选择IIOP（内部对象请求代理协议）。
问：这几个漏洞不出网情况下怎么办
让这几个漏洞回显

溯源的方法？
1、通过搜索引擎查找ip
（ip可能在论坛、日志等留下信息，被搜索引擎收录）
2、通过在线威胁情报网站
查看ip的威胁情报
3、可以通过主动探测其端口和工具扫描
4、可以使用一些ip定位网站，空间测绘网站进一步获取数据
5、查看子域名信息
6、通过收集的手机号、qq号之类的数据，通过社工库进一步搜集数据
（国外的vps，攻击时间却属于国内时间段）

蜜罐捕获相关ID信息？
1、可以进行私聊，查看用户名信息
2、复制头像地址和id信息，查看是否能找到主页地址

简述蜜罐的理解？是否搭过蜜罐？
蜜罐是一种诱饵引诱黑客攻击系统、各种服务等，并对攻击者的行为进行记录和分析
记录攻击者的ip、物理地址、设备指纹信息、攻击时间段、攻击目标

可利用流量工具 wireshark 进行溯源？
1. 查看 eval、 z0、 shell whoami 等关键字，查看出现次数过多的时候， 需要查看是哪个页面发起的请求，有可能是 webshell
2. 通过 WireShark 工具快速搜索关键字，定位到异常流量包
3. 找出异常 IP 和所上传的内容，查看是否为 webshell

请求方式几种？
（目前常用八种请求方式，分别是GET、POST、HEAD、PUT、DELETE、OPTIONS、TRACE、CONNECT，get和post最常用）

IDS与IPS？
IDS是依照一定的安全策略，对网络、系统的运行状况进行监视，及时发现攻击行为，是一种监控系统
IPS系统是电脑网络安全设施，是对防病毒软件和防火墙的补充，能及时中断一些具有伤害性的网络资料传输行为

简述水坑攻击?
寻找攻击目标经常访问的网站的弱点，先将此网站“攻破”并植入攻击代码，一旦攻击目标访问该网站就会“中招”

Log4j的相关漏洞?
Log4j是一个基于Java的日志记录组件，攻击者可利用该漏洞向目标服务器发送精心构造的恶意数据，触发Log4j2组件解析缺陷，实现目标服务器的任意代码执行，获得目标服务器权限。

waf的防护措施？
web基础防护
ip黑白名单
特殊地域访问防护

APT网络资产测绘的过程如下：
1、根据已经拿到的资产获取Web指纹（开放的服务及版本、端口等）、Banner信息，分析获取测绘特征。
2、根据测绘特征在Zoomeye、Fofa、Shodan等平台搜索，通过时间、地区等条件初步筛选，获得资产列表，这个列表可能很大。
3、通过分析样本，获取通信特征（Uri、回包大小、Header等）向资产列表发通信包，动态过滤；根据已有资产规则（IP段分布、IDC服务商、域名构造特征、证书服务商等）人工静态过滤，得到较精确的网络资产列表。

什么是供应链攻击？
供应链攻击（亦称为第三方攻击、价值链攻击或后门泄露）是指攻击者通过第三方供应商或供应链访问企业网络

软件供应链攻击？
软件供应链攻击只需要一个受损的应用或软件就可以在整个供应链中传播恶意软件。攻击通常会针对应用的源代码，将恶意程序注入到受信任的应用或软件系统中。
攻击者通常会将软件或应用更新作为切入点。软件供应链攻击的问题在于很难追踪，网络犯罪分子经常用被盗的证书对代码进行“签名”，使其看起来合法。
硬件供应链攻击
硬件攻击依赖于物理设备，就像我们前面提到的 USB 键盘记录器一样。攻击者将目标锁定在一个贯穿整个供应链的设备，以最大限度地扩大其覆盖范围和破坏力。
固件供应链攻击
恶意软件插入电脑的引导代码只需一秒钟即可展开进行攻击。一旦电脑启动，恶意软件就会被执行，从而危及整个系统。固件攻击很快，如果您不去寻找，往往检测不到，而且破坏性非常大。

如何查看进程的绝对路径？
通过查看进程获取目标进程的pid信息，在查看/proc文件夹中对应的pid文件夹查看详细信息



