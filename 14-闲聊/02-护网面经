web信息搜集：

如何过cdn获取真实ip？
1、从各地去ping
2、邮件订阅、rss订阅
3、二级域名
4、nslookup
5、查找域名历史解析记录
6、查看phpinfo

如何对域名渗透？
1、确定站点是不是主站--子域名挖掘并入手
（中间件、cms、数据库、cdn、源代码信息泄露等）

如果确认开启mysql、只扫到80，为什么？
1、更改端口
2、站库分离
3、3306端口不对外开放---防火墙挡住

查到注册人邮箱有什么用？
1、telegram社工库查找
2、查找网上关联信息，邮箱关键词，聊天套取信息
3、找到管理员设置密码的习惯
4、生成专有字典

如何区分网站服务器？
windows对大小写不敏感，Linux敏感

敏感操作被拦截、无法判断防护软件？--扩充？？
2020年十大开源免费的WEB应用防火墙 - hihttps - 博客园 (cnblogs.com)
f12--<hws>内容</hws>类似特征---护卫神
搜集防护软件特征

如何获取管理员绝对路径？
1、img onerror---自己实验
2、src指定远程脚本文件，获取referer

src属性如果约束.jpg .png .gif？
考虑在远程服务器上修改配置文件.htacess
(文件上传进入后，在进行删除）

如何查找旁站？
1、百度域名查找
2、百度ip反查域名
（同一台服务器开了多台虚拟机或虚拟目录）

简述信息搜集流程
1、服务器相关信息
（真实ip、系统类型、开放端口、相关waf）
2、网站指纹
（cms、cdn证书、dns记录）
3.whois--邮箱、姓名、电话、密码使用习惯
（社工库查询）
4、子域名、旁站、c段---一般入侵主站比较困难
5、google（针对化搜索）、pdf文件、中间件版本、弱口令
6、扫描网站目录、爆破后台、测试文件、敏感文件泄露
7、传输协议（寻找通用漏洞）

简述漏洞挖掘流程？
1、浏览网站
（规模、功能、特点）
2、端口、弱口令、目录扫描
3、xss、sql、csrf、rce、文件上传等所学网页注入攻击
4、漏洞扫描工具扫描

简述整站渗透思路？
信息搜集--漏洞扫描--漏洞利用（拿到web-shell）--权限提升--日志清理

如何进行信息搜集--扩大攻击面？
Google hacking搜索后台信息
shodan  zoomeye（被动式信息搜集）

简述探测感知？
被动保障--主动威慑

/abc/xxeditor.php
二级目录扫描敏感文件

3389无法连接的几种情况？
1、没有开放3389端口
2、端口修改
3、杀毒软件尽行防护拦截
4、处于内网

常用端口
22--ssh--用于文件传输和下载，可以对他进行爆破、弱口令，ssh隧道
21--ftp--文件传输和下载，弱口令、爆破
23--telent--爆破、弱口令
3389--远程桌面
110--pop3--爆破
139、445--永恒之蓝
80、443、8080
3306--mysql

6379--redis--未授权访问
1433--mssql
5900--vnc
25-smtp--邮件伪造


DOS攻击：

简述dos攻击原理？
dos（拒绝服务攻击）、ddos（分布式拒绝服务攻击）、cc
利用合理的服务请求来占用过多的服务资源，从而使合法用户无法得到服务的响应。

简述dos攻击有哪些类型？
syn洪水攻击、ack flood、udp flood、icmp flood、cc http的get请求、LAND、udp dns query---发送大量域名解析请求

简述syn攻击原理？
利用tcp缺陷，发送大量半连接请求去耗费系统资源，影响主机性能
syn=j
sys=k ack=j+1 进入SYN_RECV状态
ip欺骗，伪造大量虚假ip
（导致网络拥堵）

简述cc攻击原理？
黑客借助代理服务器，生成指向目标服务器的合法请求，实现ddos目的
主要攻击网站页面

防御ddos攻击？
1、限制同时打开的半连接数目
2、缩短半连接生存时间
3、关闭不必要的服务

中间件漏洞：

(28条消息) 中间件漏洞总结_EZ4GodJ的博客-CSDN博客_中间件漏洞
简述常用中间件？
iis、apache、nginx、tomcat、shiro、weblogic
IIS
文件名解析漏洞、PUT任意文件写入、远程代码命令执行、解析漏洞

Apache
未知文件名解析、AddHandler配置文件漏洞、httpd漏洞、目录遍历

Nginx
文件名解析漏洞、目录遍历、CRLF注入、目录穿越（越权）

Tomcat
远程命令执行、war后门文件部署

JBoss
反序列化漏洞、war后门文件部署

WebLogic
反序列化漏洞、SSRF任意文件上传、war后门文件部署

Shiro
Apache Shiro 反序列化漏洞
Shiro rememberMe（Shiro-550）
Shiro Padding Oracle Attack（Shiro-721）

学习Java语言后要求复现漏洞

简述java中间件---反序列化漏洞？

简述正向代理与反向代理区别？
正向代理--客户端没有办法访问外部资源，为了从原始服务器取得内容客户端会向代理服务器发送请求并指定目标，正向代理服务器会将目标信息反馈给客户端
反向代理--客户端无感知代理存在，以代理服务器接受请求并转发给内部服务器，并将客户端得到结果返回给目标
（自己装一个nginx进行理解）

简述中间件保护措施？
iis保护
1、保持windows是升级状态
2、使用iis防范工具，如专门的waf
3、移除无用web站点
4、移除无用的ftp、smtp服务
5、检查管理员组合服务
6、严格控制服务器读写访问权限
7、密码设置复杂
8、减少web服务共享
9、禁用tcp/ip中netbiso服务--内网渗透
10、禁用tcp的端口阻塞
11、检查.bat/.exe文件
12、管理iis目录安全
13、磁盘使用ntfs安全
14、管理用户账户
15、审计web服务器

tomact保护
1、升级到最新的稳定版
2、从监听端口上进行加固，仅在本地进行监听--查看端口占用情况
3、自定义错误页面，隐藏tomcat信息
4、禁用tomcat管理页面
5、删除web目录下tomcat原有自带内容
6、删除conf/catalina/localhost/host-manager.xml和manager.xml
7、使用弱权限用户启动tomcat
8、禁止tomcat列目录
9、重启后，删除后台和war包

php7.2有什么漏洞？百度其他版本---php5.6
1、内存位置信息泄露
2、图像解析exif信息越界读取
3、php-fpm远程代码执行
4、gd拒绝访问攻击

序列化与反序列化：

php序列化与反序列化
把对象转化为可以传输的字节序列的过程，把字节序列还原为对象的过程
魔术方法
__call()---条用不可访问方法
__callstatic()
__get()---调用不可访问属性
__set()
__invoke()---尝试调用函数
__wakeup()---主要函数跳过

针对三个属性，如何利用序列化漏洞？
public、protected、private

简述php代码执行的危险函数-----Google？
call_user_func()
call_user_func_array()
create_function()
array_map()
